{
  "_args": [
    [
      {
        "raw": "json-rules-engine",
        "scope": null,
        "escapedName": "json-rules-engine",
        "name": "json-rules-engine",
        "rawSpec": "",
        "spec": "latest",
        "type": "tag"
      },
      "/Users/prepress/Desktop/RD/simone"
    ]
  ],
  "_from": "json-rules-engine@latest",
  "_id": "json-rules-engine@2.0.0",
  "_inCache": true,
  "_location": "/json-rules-engine",
  "_nodeVersion": "6.10.2",
  "_npmOperationalInternal": {
    "host": "packages-18-east.internal.npmjs.com",
    "tmp": "tmp/json-rules-engine-2.0.0.tgz_1492793070729_0.17739153001457453"
  },
  "_npmUser": {
    "name": "cachecontrol",
    "email": "cdhamm@gmail.com"
  },
  "_npmVersion": "3.10.10",
  "_phantomChildren": {},
  "_requested": {
    "raw": "json-rules-engine",
    "scope": null,
    "escapedName": "json-rules-engine",
    "name": "json-rules-engine",
    "rawSpec": "",
    "spec": "latest",
    "type": "tag"
  },
  "_requiredBy": [
    "#USER"
  ],
  "_resolved": "https://registry.npmjs.org/json-rules-engine/-/json-rules-engine-2.0.0.tgz",
  "_shasum": "7210994bcf42fe0e520692eb53543bb1bbef8c2d",
  "_shrinkwrap": null,
  "_spec": "json-rules-engine",
  "_where": "/Users/prepress/Desktop/RD/simone",
  "author": {
    "name": "Cache Hamm",
    "email": "cdhamm@gmail.com"
  },
  "bugs": {
    "url": "https://github.com/cachecontrol/json-rules-engine/issues"
  },
  "dependencies": {
    "debug": "~2.6.3",
    "lodash.clonedeep": "~4.5.0",
    "lodash.isobjectlike": "~4.0.0",
    "object-hash": "~1.1.8",
    "selectn": "~1.1.2"
  },
  "description": "Rules Engine expressed in simple json",
  "devDependencies": {
    "babel-cli": "^6.4.5",
    "babel-core": "~6.24.1",
    "babel-eslint": "^7.1.1",
    "babel-loader": "~6.4.1",
    "babel-plugin-transform-async-to-generator": "^6.4.6",
    "babel-polyfill": "~6.23.0",
    "babel-preset-es2015": "~6.24.1",
    "babel-preset-stage-0": "~6.24.1",
    "babel-register": "^6.4.3",
    "chai": "^3.5.0",
    "chai-as-promised": "^6.0.0",
    "colors": "~1.1.2",
    "dirty-chai": "1.2.2",
    "mocha": "^3.2.0",
    "regenerator": "~0.9.7",
    "sinon": "^2.1.0",
    "sinon-chai": "^2.8.0",
    "snazzy": "^7.0.0",
    "standard": "^10.0.1"
  },
  "directories": {},
  "dist": {
    "shasum": "7210994bcf42fe0e520692eb53543bb1bbef8c2d",
    "tarball": "https://registry.npmjs.org/json-rules-engine/-/json-rules-engine-2.0.0.tgz"
  },
  "gitHead": "59319c2f127ba36dee00d2e1780a222dafd36479",
  "homepage": "https://github.com/cachecontrol/json-rules-engine",
  "keywords": [
    "rules",
    "engine",
    "rules engine"
  ],
  "license": "ISC",
  "main": "dist/index.js",
  "maintainers": [
    {
      "name": "cachecontrol",
      "email": "cdhamm@gmail.com"
    }
  ],
  "name": "json-rules-engine",
  "optionalDependencies": {},
  "readme": "![json-rules-engine](http://i.imgur.com/MAzq7l2.png)\n\n[![js-standard-style](https://cdn.rawgit.com/feross/standard/master/badge.svg)](https://github.com/feross/standard)\n[![Build Status](https://travis-ci.org/CacheControl/json-rules-engine.svg?branch=master)](https://travis-ci.org/CacheControl/json-rules-engine)\n[![npm version](https://badge.fury.io/js/json-rules-engine.svg)](https://badge.fury.io/js/json-rules-engine)\n\nA rules engine expressed in JSON\n\n## Synopsis\n\n```json-rules-engine``` is a powerful, lightweight rules engine.  Rules are composed of simple json structures, making them human readable and easy to persist.\n\n## Features\n\n* Rules expressed in simple, easy to read JSON\n* Full support for ```ALL``` and ```ANY``` boolean operators, including recursive nesting\n* Fast by default, faster with configuration; priority levels and cache settings for fine tuning performance\n* Secure; no use of eval()\n* Lightweight & extendable; less than 500 lines of javascript w/few dependencies\n\n## Installation\n\n```bash\n$ npm install json-rules-engine\n```\n\n## Basic Example\n\nThis example demonstrates an engine for detecting whether a basketball player has fouled out (a player who commits five personal fouls over the course of a 40-minute game, or six in a 48-minute game, fouls out).\n\n```js\nimport { Engine } from 'json-rules-engine'\n\n/**\n * Setup a new engine\n */\nlet engine = new Engine()\n\n// define a rule for detecting the player has exceeded foul limits.  Foul out any player who:\n// (has committed 5 fouls AND game is 40 minutes) OR (has committed 6 fouls AND game is 48 minutes)\nengine.addRule({\n  conditions: {\n    any: [{\n      all: [{\n        fact: 'gameDuration',\n        operator: 'equal',\n        value: 40\n      }, {\n        fact: 'personalFoulCount',\n        operator: 'greaterThanInclusive',\n        value: 5\n      }]\n    }, {\n      all: [{\n        fact: 'gameDuration',\n        operator: 'equal',\n        value: 48\n      }, {\n        fact: 'personalFoulCount',\n        operator: 'greaterThanInclusive',\n        value: 6\n      }]\n    }]\n  },\n  event: {  // define the event to fire when the conditions evaluate truthy\n    type: 'fouledOut',\n    params: {\n      message: 'Player has fouled out!'\n    }\n  }\n})\n\n/**\n * Define facts the engine will use to evaluate the conditions above.\n * Facts may also be loaded asynchronously at runtime; see the advanced example below\n */\nlet facts = {\n  personalFoulCount: 6,\n  gameDuration: 40\n}\n\n// Run the engine to evaluate\nengine\n  .run(facts)\n  .then(events => { // run() returns events with truthy conditions\n    events.map(event => console.log(event.params.message))\n  })\n\n/*\n * Output:\n *\n * Player has fouled out!\n */\n```\n\nThis is available in the [examples](./examples/02-nested-boolean-logic.js)\n\n## Advanced Example\n\nThis example demonstates an engine for identifying employees who work for Microsoft and are taking Christmas day off.\n\nThis  demonstrates an engine which uses asynchronous fact data.\nFact information is loaded via API call during runtime, and the results are cached and recycled for all 3 conditions.\nIt also demonstates use of the condition _path_ feature to reference properties of objects returned by facts.\n\n```js\nimport { Engine } from 'json-rules-engine'\n\n// example client for making asynchronous requests to an api, database, etc\nimport apiClient from './account-api-client'\n\n/**\n * Setup a new engine\n */\nlet engine = new Engine()\n\n/**\n * Rule for identifying microsoft employees taking pto on christmas\n *\n * the account-information fact returns:\n *  { company: 'XYZ', status: 'ABC', ptoDaysTaken: ['YYYY-MM-DD', 'YYYY-MM-DD'] }\n */\nlet microsoftRule = {\n  conditions: {\n    all: [{\n      fact: 'account-information',\n      operator: 'equal',\n      value: 'microsoft',\n      path: '.company' // access the 'company' property of \"account-information\"\n    }, {\n      fact: 'account-information',\n      operator: 'in',\n      value: ['active', 'paid-leave'], // 'status' can be active or paid-leave\n      path: '.status' // access the 'status' property of \"account-information\"\n    }, {\n      fact: 'account-information',\n      operator: 'contains', // the 'ptoDaysTaken' property (an array) must contain '2016-12-25'\n      value: '2016-12-25',\n      path: '.ptoDaysTaken' // access the 'ptoDaysTaken' property of \"account-information\"\n    }]\n  },\n  event: {\n    type: 'microsoft-christmas-pto',\n    params: {\n      message: 'current microsoft employee taking christmas day off'\n    }\n  }\n}\nengine.addRule(microsoftRule)\n\n/**\n * 'account-information' fact executes an api call and retrieves account data, feeding the results\n * into the engine.  The major advantage of this technique is that although there are THREE conditions\n * requiring this data, only ONE api call is made.  This results in much more efficient runtime performance\n * and fewer network requests.\n */\nengine.addFact('account-information', function (params, almanac) {\n  console.log('loading account information...')\n  return almanac.factValue('accountId')\n    .then((accountId) => {\n      return apiClient.getAccountInformation(accountId)\n    })\n})\n\n// define fact(s) known at runtime\nlet facts = { accountId: 'lincoln' }\nengine\n  .run(facts)\n  .then(function (events) {\n    console.log(facts.accountId + ' is a ' + events.map(event => event.params.message))\n  })\n  .catch(err => console.log(err.stack))\n\n/*\n * OUTPUT:\n *\n * loading account information... // <-- API call is made ONCE and results recycled for all 3 conditions\n * lincoln is a current microsoft employee taking christmas day off\n */\n```\n\nThis is available in the [examples](./examples/03-dynamic-facts.js)\n\n## Docs\n\nThe examples above provide a simple demonstrations of what `json-rules-engine` can do.  To learn more about the advanced features and techniques,\nsee the [docs](./docs) and read through the [examples](./examples).  There is also a [walkthrough](./docs/walkthrough.md) available.\n\n## Persisting Rules\n\nRules may be easily converted to JSON and persisted to a database, file system, or elsewhere.  To convert a rule to JSON, simply call the ```rule.toJSON()``` method.  Later, a rule may be restored by feeding the json into the Rule constructor.\n\n```js\n// save somewhere...\nlet jsonString = rule.toJSON()\n\n// ...later:\nlet rule = new Rule(jsonString)\n```\n\n_Why aren't \"fact\" methods persistable?_  This is by design, for several reasons.  Firstly, facts are by definition business logic bespoke to your application, and therefore lie outside the scope of this library.  Secondly, many times this request indicates a design smell; try thinking of other ways to compose the rules and facts to accomplish the same objective. Finally, persisting fact methods would involve serializing javascript code, and restoring it later via ``eval()``.  If you have a strong desire for this feature, the [node-rules](https://github.com/mithunsatheesh/node-rules) project supports this (though be aware the capability is enabled via ``eval()``.\n\n## Debugging\n\nTo see what the engine is doing under the hood, debug output can be turned on via:\n\n```bash\nDEBUG=json-rules-engine\n```\n\n## License\n[ISC](./LICENSE)",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/cachecontrol/json-rules-engine.git"
  },
  "scripts": {
    "compile": "babel --stage 1 -d dist/ src/ && regenerator --no-cache-dir --include-runtime src/generator-runtime.js > dist/generator-runtime.js",
    "lint": "standard --verbose | snazzy || true",
    "lint:fix": "standard --fix",
    "prepublish": "npm run compile",
    "test": "mocha && npm run lint --silent"
  },
  "standard": {
    "parser": "babel-eslint",
    "ignore": [
      "/dist"
    ],
    "globals": [
      "context",
      "xcontext",
      "describe",
      "xdescribe",
      "it",
      "xit",
      "before",
      "beforeEach",
      "expect",
      "factories"
    ]
  },
  "version": "2.0.0"
}
